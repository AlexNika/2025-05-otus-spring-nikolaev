# Урок №15 - Spring Data для подключения к не реляционным БД

# Домашнее задание

## В приложении для хранения книг в библиотеке, использовать MongoDB как источник хранения данных и

## Spring Data MongoDB в качестве способа доступа к ним

## Цель: Закрепление материала прошедших лекций

- проектирование доменных сущностей;
- ООП;
- паттерн DAO/Repository;
- MongoDB/Embedded MongoDB;
- работа с БД через Spring Data MongoDB;
- организация данных в MongoDB и решение типовых проблем;
- интеграционное тестирование репозиториев с помощью @DataMongoTest.

### Результат: Приложение на Spring Data MongoDB с интеграционными тестами

## Описание/Пошаговая инструкция выполнения домашнего задания

### <i><u>Задание:</u></i>

Перевести приложение каталог книг в библиотеке на использование Spring Data MongoDB репозиториев в качестве технологии
доступа к данным и MongoDB для их хранения. Задание выполняется на базе предыдущей работы.
Решение должно удовлетворять нижеуказанным требованиям.

#### <i><u>Требования к реализации:</u></i>

- Подключить spring-boot-starter-data-mongodb;
- Переписать все репозитории на Spring Data MongoDB репозитории;
- Можно реализовать Flapdoodle Embedded MongoDB;
- Покрыть интеграционными тестами (со встроенной БД) все сервисы, остальные тесты можно убрать;
- В решении не должно остаться никаких следов других технологий доступа к данным (Jdbc/Jpa);
- Работа приложения не должна приводить к наличию данных, находящихся в не консистентном виде;
- Учесть отсутствие каскадных операций (в т.ч. при использовании @DBRef) и то, что MongoEventListener-ы по-разному
  работают для разных методов, а в некоторых случаях и вовсе не сработают;
- Без крайней необходимости из БД не должны тянуться лишние данные (пример - загрузка всех книг автора при его удалении
  или изменении). При необходимости, можно применить подход с расширением Spring Data репозиториев кастомным
  функционалом,
  использующим MongoOperations;
- Без фанатизма.

Задание сдаётся только после приема предыдущей работы.

Задание сдаётся в виде ссылки на pull-request в чат с преподавателем в личном кабинете ОТУС, а не в Telegram.

В pull-request должно присутствовать только то, что касается текущей работы.
Временные файлы и файлы IDE не должны попадать в PR.
